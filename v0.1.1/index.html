<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Tracy.jl · Tracy.jl</title><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>Tracy.jl</a></span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Tracy.jl</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Tracy.jl</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Tracy.jl</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/topolarity/Tracy.jl/blob/main/docs/src/index.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Tracy.jl"><a class="docs-heading-anchor" href="#Tracy.jl">Tracy.jl</a><a id="Tracy.jl-1"></a><a class="docs-heading-anchor-permalink" href="#Tracy.jl" title="Permalink"></a></h1><p>A flexible profiling tool for tracing Julia code, LLVM compilation, Garbage Collection, and more.</p><article class="docstring"><header><a class="docstring-binding" id="Tracy.@tracepoint" href="#Tracy.@tracepoint"><code>Tracy.@tracepoint</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@tracepoint &quot;name&quot; color=&lt;color&gt; enabled=&lt;expr&gt; &lt;expression&gt;</code></pre><p>Code you&#39;d like to trace should be wrapped with <code>@tracepoint</code></p><pre><code class="language-julia hljs">@tracepoint &quot;name&quot; &lt;expression&gt;</code></pre><p>Typically the expression will be a <code>begin-end</code> block:</p><pre><code class="language-julia hljs">@tracepoint &quot;data aggregation&quot; begin
    # lots of compute here...
end</code></pre><p>The name of the tracepoint must be a literal string, and it cannot be changed at runtime. The tracepoint can be dynamically disabled or enabled by using the <code>enabled</code> keyword argument which should be a boolean expression.</p><p>The (default) color of the zone can be configured with the <code>color</code> keyword argument to the macro which should be a literal that can either be:</p><ul><li>An integer: The hex code of the color as <code>0xRRGGBB</code>.</li><li>A symbol: Can take the value <code>:black</code>, <code>:blue</code>, <code>:green</code>, <code>:cyan</code>, <code>:red</code>, <code>:magenta</code>, <code>:yellow</code>, <code>:white</code>, <code>:light_black</code>, <code>:light_blue</code>, <code>:light_green</code>, <code>:light_cyan</code>, <code>:light_red</code>, <code>:light_magenta</code>, <code>:light_yellow</code>, <code>:light_white</code>.</li><li>A tuple of three integers: The RGB value <code>(R, G, B)</code> where each value is in the range 0..255.</li></ul><p>You can also trace function definitions where name of the tracepoint will be the name of the function unless it is explicitly provided:</p><pre><code class="language-julia hljs">@tracepoint function f(x)
    x^2
end

@tracepoint &quot;calling g&quot; g(x) = x^2

h = @tracepoint x -&gt; x^2</code></pre><p>If you don&#39;t have Tracy installed, you can install <code>TracyProfiler_jll</code> and start it with <code>run(TracyProfiler_jll.tracy(); wait=false)</code>.</p><pre><code class="language-julia-repl hljs">julia&gt; x = rand(10,10);

julia&gt; @tracepoint &quot;multiply&quot; x * x;

julia&gt; @tracepoint &quot;pow2&quot; color=:green x^2; # green

julia&gt; @tracepoint &quot;pow3&quot; color=:0xFF0000 x^3; # red

julia&gt; @tracepoint &quot;pow4&quot; color=(255, 165, 0) x^4; # orange

julia&gt; timings_enabled() = rand() &lt; 0.5;

julia&gt; @tracepoint &quot;pow5&quot; enabled=timings_enabled() x^5; # enabled only if timings_enabled() is true</code></pre><p>If you don&#39;t have Tracy installed, you can install <code>TracyProfiler_jll</code> and start it with <code>run(TracyProfiler_jll.tracy(); wait=false)</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/topolarity/Tracy.jl/blob/77d52d47ccccd42634c83819b9a8c2e2875cb6bb/src/tracepoint.jl#L35-L94">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Tracy.tracymsg" href="#Tracy.tracymsg"><code>Tracy.tracymsg</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">tracymsg(msg::AbstractString; color::Union{Integer,Symbol,NTuple{3, Integer}, Nothing}=nothing, callstack_depth::Integer=0)</code></pre><p>Send a message to Tracy that gets shown in the &quot;Message&quot; window. If <code>color</code> is <code>nothing</code>, the default color is used. Otherwise, the <code>color</code> argument can be given as:</p><ul><li>An integer: The hex code of the color as <code>0xRRGGBB</code>.</li><li>A symbol: Can take the value <code>:black</code>, <code>:blue</code>, <code>:green</code>, <code>:cyan</code>, <code>:red</code>, <code>:magenta</code>, <code>:yellow</code>, <code>:white</code>, <code>:light_black</code>, <code>:light_blue</code>, <code>:light_green</code>, <code>:light_cyan</code>, <code>:light_red</code>, <code>:light_magenta</code>, <code>:light_yellow</code>, <code>:light_white</code>.</li><li>A tuple of three integers: The RGB value <code>(R, G, B)</code> where each value is in the range 0..255.</li></ul><p>The <code>callstack_depth</code> argument determines the depth of the callstack that is collected.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/topolarity/Tracy.jl/blob/77d52d47ccccd42634c83819b9a8c2e2875cb6bb/src/msg.jl#L1-L10">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Tracy.@register_tracepoints" href="#Tracy.@register_tracepoints"><code>Tracy.@register_tracepoints</code></a> — <span class="docstring-category">Macro</span></header><section><div><p>Register this module&#39;s <code>@tracepoint</code> callsites with Tracy.jl</p><p>This will allow tracepoints to appear in Tracy&#39;s Enable/Disable window, even if they haven&#39;t been run yet. Using this macro is optional, but it&#39;s recommended to call it from within your module&#39;s <code>__init__</code> method.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/topolarity/Tracy.jl/blob/77d52d47ccccd42634c83819b9a8c2e2875cb6bb/src/tracepoint.jl#L240-L246">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Tracy.enable_tracepoint" href="#Tracy.enable_tracepoint"><code>Tracy.enable_tracepoint</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">enable_tracepoint</code></pre><p>Enable/disable a set of tracepoint(s) in the provided modules, based on whether they match the filters provided for <code>name</code>/<code>func</code>/<code>file</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/topolarity/Tracy.jl/blob/77d52d47ccccd42634c83819b9a8c2e2875cb6bb/src/tracepoint.jl#L224-L229">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Tracy.configure_tracepoint" href="#Tracy.configure_tracepoint"><code>Tracy.configure_tracepoint</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">configure_tracepoint</code></pre><p>Enable/disable a set of tracepoint(s) in the provided modules by invalidating any existing code containing the tracepoint(s).</p><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>This invalidates the code generated for all functions containing the selected zones.</p><p>This will trigger re-compilation for these functions and may cause undesirable latency. It is strongly recommended to use <code>enable_tracepoint</code> instead.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/topolarity/Tracy.jl/blob/77d52d47ccccd42634c83819b9a8c2e2875cb6bb/src/tracepoint.jl#L201-L212">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Tracy.wait_for_tracy" href="#Tracy.wait_for_tracy"><code>Tracy.wait_for_tracy</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">wait_for_tracy(;timeout::Float64 = 20.0)</code></pre><p>Waits up to <code>timeout</code> seconds for <code>libtracy</code> to connect to a listening capture agent.  If a timeout occurs, throws an <code>InvalidStateException</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/topolarity/Tracy.jl/blob/77d52d47ccccd42634c83819b9a8c2e2875cb6bb/src/utils.jl#L18-L23">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Tracy.capture" href="#Tracy.capture"><code>Tracy.capture</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">capture(outfile::String; port::Integer = 9001)
gui(; port::Integer = 9001)</code></pre><p>Starts a Tracy capture agent running in the background.  Returns the <code>Cmd</code> object for use with <code>wait()</code>.  Note that if you are using a tracy-enabled build of Julia, you will need to ensure that the capture agent is running before the Julia executable starts, otherwise the capture agent may not see the beginning of every zone, which it considers to be a fatal error.</p><p>The recommended methodology for usage of this function is something similar to:</p><pre><code class="nohighlight hljs">    port = 9000 + rand(1:1000)
    p = Tracy.capture(&quot;my_workload.tracy&quot;; port)
    run(addenv(`$(Base.julia_cmd()) workload.jl`,
               &quot;TRACY_PORT&quot; =&gt; string(port),
               &quot;JULIA_WAIT_FOR_TRACY&quot; =&gt; &quot;1&quot;))
    wait(p)</code></pre><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>This command is only available if you also load <code>TracyProfiler_jll</code>.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/topolarity/Tracy.jl/blob/77d52d47ccccd42634c83819b9a8c2e2875cb6bb/src/utils.jl#L35-L58">source</a></section></article></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Tuesday 19 December 2023 20:30">Tuesday 19 December 2023</span>. Using Julia version 1.9.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
